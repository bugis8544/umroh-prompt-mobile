<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UmrohPrompt.ai - Generator Prompt Riset Umroh</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .form-input {
            @apply w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 transition-all duration-300;
        }
        .form-label {
            @apply block mb-2 text-sm font-medium text-gray-700;
        }
        .btn {
            @apply px-6 py-3 rounded-lg font-semibold text-white transition-transform transform hover:scale-105 shadow-md;
        }
        .btn-primary {
            @apply bg-emerald-600 hover:bg-emerald-700;
        }
        .btn-secondary {
            @apply bg-gray-600 hover:bg-gray-700;
        }
        .btn-copy {
            @apply bg-blue-600 hover:bg-blue-700;
        }
        .prompt-output-container {
            @apply bg-emerald-50 p-6 rounded-xl border-l-4 border-emerald-500 shadow-inner;
        }
        .icon {
            @apply inline-block w-5 h-5 mr-2;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        <!-- Header -->
        <header class="text-center mb-10">
            <h1 class="text-4xl font-bold text-emerald-700">UmrohPrompt.ai</h1>
            <p class="text-lg text-gray-600 mt-2">Asisten AI untuk merencanakan umroh mandiri Anda dengan cerdas.</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
            
            <!-- Kolom Form Input -->
            <div class="lg:col-span-3 bg-white p-6 sm:p-8 rounded-2xl shadow-lg">
                <form id="promptForm">
                    <h2 class="text-2xl font-bold mb-6 text-gray-800 border-b pb-4">üìù Buat Prompt Rencana Umroh</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Informasi Perjalanan -->
                        <div>
                            <label for="kotaAsal" class="form-label">Kota Keberangkatan</label>
                            <input type="text" id="kotaAsal" class="form-input" placeholder="Contoh: Jakarta, Surabaya" value="Jakarta">
                        </div>
                        <div>
                            <label for="bulan" class="form-label">Bulan Keberangkatan</label>
                            <select id="bulan" class="form-input">
                                <option>Januari</option>
                                <option>Februari</option>
                                <option>Maret</option>
                                <option>April</option>
                                <option>Mei</option>
                                <option>Juni</option>
                                <option>Juli</option>
                                <option>Agustus</option>
                                <option>September</option>
                                <option>Oktober</option>
                                <option>November</option>
                                <option selected>Desember</option>
                            </select>
                        </div>
                        <div>
                            <label for="durasi" class="form-label">Durasi Umroh (hari)</label>
                            <input type="number" id="durasi" class="form-input" value="10" min="5">
                        </div>
                        <div>
                            <label for="jumlahPax" class="form-label">Jumlah Jamaah (pax)</label>
                            <input type="number" id="jumlahPax" class="form-input" value="2" min="1">
                        </div>

                        <!-- Preferensi -->
                        <div>
                            <label for="maskapai" class="form-label">Kelas Maskapai</label>
                            <select id="maskapai" class="form-input">
                                <option value="ekonomi">Ekonomi</option>
                                <option value="bisnis">Bisnis</option>
                                <option value="premium ekonomi">Premium Ekonomi</option>
                            </select>
                        </div>
                        <div>
                            <label for="hotel" class="form-label">Preferensi Hotel</label>
                            <select id="hotel" class="form-input">
                                <option value="Bintang 3, dekat Masjidil Haram">Bintang 3, dekat Masjidil Haram</option>
                                <option value="Bintang 4, dekat Masjid Nabawi">Bintang 4, dekat Masjid Nabawi</option>
                                <option value="Bintang 5, pemandangan Ka'bah">Bintang 5, pemandangan Ka'bah</option>
                                <option value="Budget, bisa jalan kaki ke masjid">Budget, bisa jalan kaki</option>
                            </select>
                        </div>
                         <div class="md:col-span-2">
                            <label for="budget" class="form-label">Estimasi Budget per Orang (Rupiah)</label>
                            <input type="text" id="budget" class="form-input" placeholder="Contoh: 25.000.000 - 35.000.000">
                        </div>

                        <!-- Tambahan -->
                        <div class="md:col-span-2">
                            <label class="flex items-center space-x-3 mt-4">
                                <input type="checkbox" id="cityTour" class="h-5 w-5 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500">
                                <span class="text-gray-700">Sertakan City Tour & Ziarah</span>
                            </label>
                        </div>
                    </div>

                    <!-- Tombol Aksi -->
                    <div class="mt-8 flex flex-col sm:flex-row gap-4">
                        <button type="button" id="generateButton" class="btn btn-primary w-full sm:w-auto flex-grow justify-center">
                            <i data-lucide="wand-2" class="icon"></i>
                            Buat Prompt Saya
                        </button>
                        <button type="reset" id="resetButton" class="btn btn-secondary w-full sm:w-auto justify-center">
                           <i data-lucide="rotate-cw" class="icon"></i>
                            Reset
                        </button>
                    </div>
                </form>
            </div>

            <!-- Kolom Output & Contoh -->
            <div class="lg:col-span-2 space-y-8">
                <!-- Output Prompt -->
                <div id="outputSection" class="prompt-output-container hidden">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">‚úÖ Prompt Anda Siap Digunakan</h3>
                    <p id="promptOutput" class="text-gray-700 bg-white p-4 rounded-md whitespace-pre-wrap"></p>
                    <div class="mt-4 flex gap-4">
                        <button id="copyButton" class="btn btn-copy w-full flex-grow justify-center">
                            <i data-lucide="copy" class="icon"></i>
                            <span id="copyButtonText">Salin Prompt</span>
                        </button>
                    </div>
                </div>
                
                <!-- Contoh Prompt Cepat -->
                <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg">
                    <h3 class="text-xl font-bold mb-6 text-gray-800 border-b pb-4">‚ö°Ô∏è Butuh Cepat? Coba Template Ini</h3>
                    <div class="space-y-3">
                         <button class="w-full text-left p-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors" data-template="itinerary">
                            <strong>‚úàÔ∏è Itinerary Lengkap:</strong> Buat jadwal perjalanan detail.
                        </button>
                        <button class="w-full text-left p-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors" data-template="biaya">
                            <strong>üí∞ Rincian Biaya:</strong> Buat simulasi total biaya umroh.
                        </button>
                         <button class="w-full text-left p-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors" data-template="legalitas">
                            <strong>üõ°Ô∏è Cek Legalitas Travel:</strong> Cara verifikasi travel agent resmi Kemenag.
                        </button>
                         <button class="w-full text-left p-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors" data-template="panduan">
                            <strong>üìö Panduan Ibadah:</strong> Daftar doa dan panduan manasik.
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="text-center mt-12 py-6 border-t">
            <p class="text-gray-500">&copy; 2025 UmrohPrompt.ai - Dibuat untuk membantu perencanaan ibadah Anda.</p>
        </footer>
    </div>

    <script>
        // Inisialisasi ikon Lucide
        lucide.createIcons();

        // Elemen DOM
        const generateButton = document.getElementById('generateButton');
        const resetButton = document.getElementById('resetButton');
        const copyButton = document.getElementById('copyButton');
        const outputSection = document.getElementById('outputSection');
        const promptOutput = document.getElementById('promptOutput');
        const copyButtonText = document.getElementById('copyButtonText');
        
        const templateButtons = document.querySelectorAll('[data-template]');

        const templates = {
            itinerary: `Buatkan itinerary perjalanan umroh mandiri selama 12 hari dengan fokus pada ibadah di Masjidil Haram dan Masjid Nabawi. Rincikan kegiatan harian mulai dari keberangkatan dari Jakarta hingga kembali lagi, termasuk rekomendasi waktu untuk tawaf, sa'i, sholat, dan ziarah di sekitar Mekkah dan Madinah.`,
            biaya: `Buatlah simulasi rincian biaya untuk umroh mandiri bagi 2 orang dari Surabaya. Pecah biayanya menjadi komponen-komponen utama: tiket pesawat (kelas ekonomi), visa umroh, hotel bintang 3 di Mekkah dan Madinah, biaya makan harian, transportasi lokal (kereta cepat/bus), dan dana darurat. Berikan estimasi dalam Rupiah.`,
            legalitas: `Jelaskan langkah-langkah untuk mengecek legalitas sebuah travel umroh di Indonesia. Informasi apa yang harus saya cari di situs resmi Kementerian Agama RI? Berikan contoh prompt yang bisa saya gunakan untuk meminta AI memverifikasi nama travel tertentu.`,
            panduan: `Buatkan panduan ringkas berisi doa-doa penting untuk ibadah umroh, mulai dari niat, doa saat tawaf di setiap putaran, doa saat sa'i, hingga doa saat tahallul. Sertakan juga tips-tips praktis agar ibadah lebih khusyuk dan lancar.`
        };

        function generateMainPrompt() {
            const kotaAsal = document.getElementById('kotaAsal').value.trim() || 'Jakarta';
            const bulan = document.getElementById('bulan').value;
            const durasi = document.getElementById('durasi').value;
            const jumlahPax = document.getElementById('jumlahPax').value;
            const maskapai = document.getElementById('maskapai').value;
            const hotel = document.getElementById('hotel').value;
            const budget = document.getElementById('budget').value.trim();
            const cityTour = document.getElementById('cityTour').checked;

            let prompt = `Tolong buatkan rencana dan estimasi biaya untuk perjalanan umroh mandiri dengan detail sebagai berikut:\n\n`;
            prompt += `- **Tujuan:** Umroh Mandiri\n`;
            prompt += `- **Asal Keberangkatan:** ${kotaAsal}, Indonesia\n`;
            prompt += `- **Waktu:** Bulan ${bulan}\n`;
            prompt += `- **Durasi:** ${durasi} hari\n`;
            prompt += `- **Jumlah Jamaah:** ${jumlahPax} orang\n\n`;
            
            prompt += `**Preferensi:**\n`;
            prompt += `- **Maskapai:** Kelas ${maskapai}\n`;
            prompt += `- **Akomodasi:** Hotel ${hotel}\n`;
            
            if (budget) {
                prompt += `- **Estimasi Budget:** Sekitar Rp ${budget} per orang\n`;
            }
            if (cityTour) {
                prompt += `- **Tambahan:** Mohon sertakan jadwal dan biaya untuk city tour di Mekkah & Madinah, serta ziarah ke tempat-tempat bersejarah.\n\n`;
            }

            prompt += `Mohon berikan output dalam bentuk rincian yang jelas, mencakup:\n`;
            prompt += `1.  **Contoh Itinerary Harian:** Jadwal perjalanan dari hari ke-1 hingga hari ke-${durasi}.\n`;
            prompt += `2.  **Estimasi Rincian Biaya:** Breakdown biaya untuk tiket pesawat, hotel, visa, makan, transportasi lokal, dan city tour (jika ada).\n`;
            prompt += `3.  **Rekomendasi:** Maskapai dan tips praktis untuk perjalanan ini.`;

            displayPrompt(prompt);
        }

        function displayPrompt(text) {
            promptOutput.textContent = text;
            outputSection.classList.remove('hidden');
            outputSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        // **PERBAIKAN FUNGSI SALIN**
        // Fungsi salin yang lebih kompatibel
        function copyToClipboard(text) {
            // Buat elemen textarea sementara
            const textArea = document.createElement("textarea");
            textArea.value = text;
            
            // Atur agar tidak terlihat di layar
            textArea.style.position = "fixed";
            textArea.style.top = 0;
            textArea.style.left = 0;
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            textArea.style.padding = 0;
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            textArea.style.background = 'transparent';

            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();

            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    // Feedback visual saat berhasil menyalin
                    copyButtonText.textContent = 'Tersalin!';
                    copyButton.querySelector('i').setAttribute('data-lucide', 'check-circle');
                    lucide.createIcons();
                    
                    setTimeout(() => {
                        copyButtonText.textContent = 'Salin Prompt';
                        copyButton.querySelector('i').setAttribute('data-lucide', 'copy');
                        lucide.createIcons();
                    }, 2000);
                }
            } catch (err) {
                console.error('Gagal menyalin teks:', err);
                alert('Gagal menyalin. Mohon salin secara manual.');
            }

            document.body.removeChild(textArea);
        }


        generateButton.addEventListener('click', (e) => {
            e.preventDefault();
            generateMainPrompt();
        });

        templateButtons.forEach(button => {
            button.addEventListener('click', () => {
                const templateKey = button.dataset.template;
                if (templates[templateKey]) {
                    displayPrompt(templates[templateKey]);
                }
            });
        });
        
        // Event listener baru untuk tombol salin
        copyButton.addEventListener('click', () => {
            copyToClipboard(promptOutput.textContent);
        });
        
        resetButton.addEventListener('click', () => {
             outputSection.classList.add('hidden');
             promptOutput.textContent = '';
        });

    </script>
</body>
</html>

